<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="text/javascript" src="https://unpkg.com/vue/dist/vue.js"></script>
    <title>事件的绑定</title>
</head>

<body>
    <button id="btn01">点我一下</button>

</body>
<script type="text/javascript">
    var btn01 = document.getElementById("btn01");
    /*
    *使用 对象.事件 = 函数 的形式绑定响应函数
    *   -它智能同时为一个元素绑定一个响应函数，不能绑定多个。
    */
    // btn01.onclick = function(){
    //     alert("ncjdsbv");
    // }
    //为btn01绑定第二个单击事件
    /*
    * addEventListener()
    *   -通过这个方法也可以为元素绑定响应函数
    *   -可以为元素绑定多个事件
    *   -不支持IE8及以下
    *   -参数：
    *       1.事件的字符串，不要on;
    *       2.回调函数，当函数触发时该函数会被调用
    *       3.是否在捕获阶段触发事件，一个布尔值，一般为false
    */
    // btn01.addEventListener("click", function () {
    //     alert(1);
    // }, false);
    // btn01.addEventListener("click", function () {
    //     alert(2);
    // }, false);
    // btn01.addEventListener("click", function () {
    //     alert(3);
    // }, false);

    /*
    * attachEvent()
    *   -IE8使用attachEvent()绑定事件
    *   -参数：1.事件的字符串，要on
    *         2.回调函数
    */
    // btn01.attachEvent("onclick", function () {
    //     alert(1);
    // });
    // btn01.attachEvent("onclick",function(){
    //     alert(2);
    // });
    // btn01.attachEvent("onclick",function(){
    //     alert(3);
    // });
bind(btn01,"click",function () {
    alert(this);
});

    //定义一个函数，为指定元素绑定响应函数
    /*
    * attachEvent()中的this，是绑定事件的对象
    * addEventListener()中的this，是window
    */
    /*
    * 参数：
    *   -obj 要绑定事件的对象
    *   -evenStr 事件的字符串(不要on)
    *   -callback 回调函数
    */
    function bind(obj, evenStr, callback) {
        if (obj.addEventListener) {
            //大部分浏览器兼容的方式
            obj.addEventListener(evenStr, callback, false);
        } else {
        /*
        *this是谁由调用方式决定
        * callback.call(obj)
        * 可以用来调用所有者对象作为参数的方法
        * 通过该方法，可以使用属于另一个对象的方法（window --> btn01）
        */
            //IE8及以下
            obj.attachEvent("on" + evenStr, function(){
                //匿名函数中调用回调函数
                callback.call(obj);    //可以用来调用所有者对象作为参数的方法，通过该方法，可以使用属于另一个对象的方法（window --> btn01）
            });
        }
    }
</script>

</html>